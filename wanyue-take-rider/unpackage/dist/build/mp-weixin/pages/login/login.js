(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"5bbe":function(e,t,o){"use strict";o.r(t);var n=o("96a0"),i=o("ba30");for(var s in i)["default"].indexOf(s)<0&&function(e){o.d(t,e,(function(){return i[e]}))}(s);o("a249");var a=o("f0c5"),c=Object(a["a"])(i["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],void 0);t["default"]=c.exports},"6bfc":function(e,t,o){"use strict";(function(e,t){var n=o("4ea4");o("5340");n(o("66fd"));var i=n(o("5bbe"));e.__webpack_require_UNI_MP_PLUGIN__=o,t(i.default)}).call(this,o("bc2e")["default"],o("543d")["createPage"])},"7a43":function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;getApp();var o={components:{},data:function(){return{top:0,loginType:!0,codetimes:"获取验证码",timer:null,canshowcode:!1,passwordFocus:!1,codeFocus:!1,agree:!1,mobile:"",password:"",phone:"",codes:"",smsType:0,unionid:"",nickName:"",avatar:"",countryCode:"+86"}},onShow:function(){var t=this;e.getStorage({key:"countryCode",success:function(e){t.countryCode=e.data,console.log(e)}})},onReady:function(){this.codetimes=this.i18n.login.getcode},onUnload:function(){clearInterval(this.timer),this.timer=null},onLoad:function(e){this.top=getApp().globalData.top+20,this.top=getApp().globalData.top+getApp().globalData.menuButtonHeight+10},computed:{enabled:function(){if(1==this.loginType){if(11==this.mobile.length&&6==this.codes.length)return!1}else if(11==this.mobile.length&&this.password.length>5)return!1;return!0},i18n:function(){return this.$t("index")}},methods:{chooseCountry:function(){e.navigateTo({url:"country"})},NotAgree:function(){0!=this.agree||e.showToast({title:this.i18n.login.yuedubngtongyixieyi,icon:"none"})},saveLocal:function(t){getApp().globalData.userinfo=t,e.setStorage({key:"userinfo",data:t,success:function(){}});t.im.userId,t.im.UserSig;setTimeout((function(){e.reLaunch({url:"../index/index"})}),1e3)},changelogintype:function(){this.passwordFocus=!1,this.codeFocus=!1,this.loginType=!this.loginType},mobileinpit:function(e){1==this.loginType?11==e.detail.value.length?this.canshowcode=!0:this.canshowcode=!1:11==e.detail.value.length?this.passwordFocus=!0:this.passwordFocus=!1},password_input:function(e){},agreeme:function(){1==this.agree?this.agree=!1:this.agree=!0},gotoxieyi:function(t){var o=getApp().globalData.weburl+"appapi/page/detail?id="+t;e.setStorage({key:"weburl",data:o,success:function(){e.navigateTo({url:"../webview/index"})}})},register:function(){e.navigateTo({url:"../reg/reg"})},getSmsCode:function(){var e=this;if(0!=this.canshowcode){var t=this.NB.sort2url({account:this.mobile,type:1}),o={};o.account=this.mobile,o.code=this.countryCode,o.type=1,o.sign=t,console.log(o),this.NB.sendRequest("Rider.Login.GetCode",o,!0).then((function(e){})).catch((function(t){if(console.log(t),1002==t.code){e.codeFocus=!0;var o=60;e.canshowcode=!1,clearInterval(e.timer),e.timer=null,e.codetimes="(60s)",e.timer=setInterval((function(){o-=1,e.codetimes="("+o+"s)",0==o&&(clearInterval(e.timer),e.timer=null,e.canshowcode=!0,e.codetimes=this.i18n.login.getcode)}),1e3)}}))}},submit:function(){if(0!=this.agree){var t,o;1==this.loginType?(t="Rider.Login.LoginByCode",o={username:this.mobile,code:this.codes}):(t="Rider.Login.LoginByPass",o={username:this.mobile,pass:this.password});var n=this;e.showLoading({title:"",mask:!0}),e.login({success:function(i){console.log(i),e.hideLoading(),e.request({url:getApp().globalData.mainurl+"Login.getUnionid",method:"GET",data:{code:i.code},success:function(i){console.log(i);var s=i.data.data.openid;getApp().globalData.openid=s,e.setStorage({key:"openid",data:s,success:function(){}}),n.NB.sendRequest(t,o).then((function(e){console.log(e),n.saveLocal(e.info[0])}))}})}})}else e.showToast({title:this.i18n.login.yuedubngtongyixieyi,icon:"none"})}}};t.default=o}).call(this,o("543d")["default"])},"96a0":function(e,t,o){"use strict";o.d(t,"b",(function(){return n})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){}));var n=function(){var e=this.$createElement;this._self._c},i=[]},9820:function(e,t,o){},a249:function(e,t,o){"use strict";var n=o("9820"),i=o.n(n);i.a},ba30:function(e,t,o){"use strict";o.r(t);var n=o("7a43"),i=o.n(n);for(var s in n)["default"].indexOf(s)<0&&function(e){o.d(t,e,(function(){return n[e]}))}(s);t["default"]=i.a}},[["6bfc","common/runtime","common/vendor"]]]);