(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["package-shopManager/pages/commentManager/commentManager"],{447:function(e,t,n){"use strict";(function(e){n(5),n(6);o(n(4));var t=o(n(448));function o(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(t.default)}).call(this,n(1)["createPage"])},448:function(e,t,n){"use strict";n.r(t);var o=n(449),r=n(451);for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n(460);var a,c=n(25),s=Object(c["default"])(r["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],a);s.options.__file="package-shopManager/pages/commentManager/commentManager.vue",t["default"]=s.exports},449:function(e,t,n){"use strict";n.r(t);var o=n(450);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},450:function(e,t,n){"use strict";var o;n.r(t),n.d(t,"render",(function(){return r})),n.d(t,"staticRenderFns",(function(){return a})),n.d(t,"recyclableRender",(function(){return i})),n.d(t,"components",(function(){return o}));var r=function(){var e=this,t=e.$createElement;e._self._c},i=!1,a=[];r._withStripped=!0},451:function(e,t,n){"use strict";n.r(t);var o=n(452),r=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=r.a},452:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;o(n(453));function o(e){return e&&e.__esModule?e:{default:e}}var r=function(){Promise.all([n.e("common/vendor"),n.e("components/pingjia/pingjia")]).then(function(){return resolve(n(584))}.bind(null,n)).catch(n.oe)},i=function(){Promise.all([n.e("common/vendor"),n.e("components/banxing/merbanStar")]).then(function(){return resolve(n(626))}.bind(null,n)).catch(n.oe)},a={components:{pingjia:r,starV:i},data:function(){return{scrollHeight:0,allEvaDic:null,page:1,list:[],refresherTriggered:!1,typeList:[{name:"全部回复",list:["全部回复","已回复","未回复"],open:!1},{name:"全部评价",list:["全部评价","好评","差评"],open:!1},{name:"全部内容",list:["全部内容","有内容","无内容"],open:!1},{name:"近1个月",list:["近1个月","近2个月","近3个月"],open:!1}],typeshowIndex:-1,topSpace:0,defaultAvatar:"",showPop:!1,replyTxt:"",replyCell:"",firstPlatformID:1,reply:0,evaluate:0,content:0,month:0}},onReady:function(){var t=e.getStorageSync("shopinfo");this.firstPlatformID=t.top_type_id;var n=e.getSystemInfoSync();this.scrollHeight2=n.windowHeight-20,this.topSpace=155,this.scrollHeight=n.windowHeight-this.topSpace,this.defaultAvatar=getApp().globalData.weburl+"default.png"},onLoad:function(){this.getListData()},onUnload:function(){},methods:{getListData:function(){var e=this,t={reply:e.reply,evaluate:e.evaluate,content:e.content,month:e.month+1,p:e.page};e.http.sendRequest("MerchantStoreOrderEvaluate.Index",t).then((function(t){if(0==t.code)if(e.allEvaDic=t.info[1],console.log(e.allEvaDic),1==e.page)e.list=t.info[0];else for(var n=t.info[0],o=0;o<n.length;o++)e.list.push(n[o])}))},refresherrefresh:function(){var e=this;this.refresherTriggered=!0,this.page=1,this.getListData(),setTimeout((function(){e.refresherTriggered=!1}),1e3)},scrolltolower:function(){console.log("滚动到底部");var e=this;e.page++,e.getListData()},showtypeSelectedView:function(e){var t=this;t.typeshowIndex=e;for(var n=0;n<t.typeList.length;n++)t.typeshowIndex==n?t.typeList[n].open=!0:t.typeList[n].open=!1},doselectType:function(e,t,n){console.log(e,t),this.typeList[this.typeshowIndex].name=n,0==e?this.reply=t:1==e?this.evaluate=t:2==e?this.content=t:this.month=t,this.page=1,this.getListData()},dohideTypeView:function(){console.log(1111111111),this.typeList[this.typeshowIndex].open=!1,this.typeshowIndex=-1},showBigImage:function(t,n){e.previewImage({current:t,urls:n})},showBigVideo:function(t){console.log(t),e.setStorage({key:"videourl",data:t,success:function(){e.navigateTo({url:"/pages/video/video"})}})},doEvaDetailes:function(t){e.navigateTo({url:"commentDetail?id="+t.id,events:{replaySucesss:function(e){console.log(e),t.is_reply=e.is_reply,t.merchant_reply_time=e.merchant_reply_time,t.merchant_reply_content=e.merchant_reply_content}}})},doReplay:function(e){this.showPop=!0,this.replyCell=e},inputreply:function(e){this.replyTxt=e.detail.value},puhlish:function(){var t=this;if(t.showPop=!1,t.replyTxt.length>0){var n={id:t.replyCell.id,merchant_reply_content:t.replyTxt};t.http.sendRequest("MerchantStoreOrderEvaluate.ReplySave",n).then((function(n){0==n.code&&(console.log(n),t.showPop=!1,t.replyCell.is_reply=1,t.replyCell.merchant_reply_content=t.replyTxt,t.replyCell.merchant_reply_time=n.info[0].merchant_reply_time,e.showToast({title:n.msg,duration:2e3,icon:"none"}))}))}},docloseReplayPop:function(){this.showPop=!1},doOrderMessage:function(t){e.navigateTo({url:"/package-index/pages/indexOrderDetail?id="+t.order.id})}}};t.default=a}).call(this,n(1)["default"])},453:function(e,t,n){"use strict";n.r(t);var o=n(454),r=n(456);for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);n(458);var a,c=n(25),s=Object(c["default"])(r["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],a);s.options.__file="package-shopManager/pages/commentManager/commentDetail.vue",t["default"]=s.exports},454:function(e,t,n){"use strict";n.r(t);var o=n(455);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},455:function(e,t,n){"use strict";var o;n.r(t),n.d(t,"render",(function(){return r})),n.d(t,"staticRenderFns",(function(){return a})),n.d(t,"recyclableRender",(function(){return i})),n.d(t,"components",(function(){return o}));var r=function(){var e=this,t=e.$createElement;e._self._c},i=!1,a=[];r._withStripped=!0},456:function(e,t,n){"use strict";n.r(t);var o=n(457),r=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=r.a},457:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(){Promise.all([n.e("common/vendor"),n.e("components/banxing/merbanStar")]).then(function(){return resolve(n(626))}.bind(null,n)).catch(n.oe)},r={components:{starV:o},data:function(){return{scrollHeight:0,commentID:"",item:null,orderNumID:"",goodsNum:"",cartInfo:[],showPop:!1,replyTxt:"",replyID:"",order:{},firstPlatformID:"",defaultAvatar:""}},computed:{i18n:function(){return this.$t("index")}},onReady:function(){var t=e.getSystemInfoSync();this.scrollHeight=t.windowHeight},onLoad:function(t){this.defaultAvatar=getApp().globalData.weburl+"default.png";var n=e.getStorageSync("shopinfo");this.firstPlatformID=n.top_type_id,this.commentID=t.id,this.getData()},onShow:function(){},methods:{getData:function(){var e=this,t={id:this.commentID};this.http.sendRequest("MerchantStoreOrderEvaluate.Detail",t).then((function(t){console.log(t),0==t.code&&(e.item=t.info[0],console.log(e.item),e.cartInfo=e.item.cart_info,e.order=e.item.order,console.log(e.cartInfo))}))},showBigImage:function(t,n){e.previewImage({current:t,urls:n})},inputreply:function(e){this.replyTxt=e.detail.value},showBigVideo:function(t){console.log(t),e.setStorage({key:"videourl",data:t,success:function(){e.navigateTo({url:"/pages/video/video"})}})},onChange:function(){},doReplay:function(){this.showPop=!0},puhlish:function(){if(this.showPop=!1,this.replyTxt.length>0){var e={id:this.item.id,merchant_reply_content:this.replyTxt},t=this;this.http.sendRequest("MerchantStoreOrderEvaluate.ReplySave",e).then((function(e){if(0==e.code){t.showPop=!1;var n=e.info[0],o=t.getOpenerEventChannel();o.emit("replaySucesss",{data:{is_replay:1,merchant_reply_time:n.merchant_reply_time,merchant_reply_content:t.replyTxt}}),t.getData()}}))}},docloseReplayPop:function(){this.showPop=!1}}};t.default=r}).call(this,n(1)["default"])},458:function(e,t,n){"use strict";n.r(t);var o=n(459),r=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=r.a},459:function(e,t,n){},460:function(e,t,n){"use strict";n.r(t);var o=n(461),r=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=r.a},461:function(e,t,n){}},[[447,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/package-shopManager/pages/commentManager/commentManager.js.map