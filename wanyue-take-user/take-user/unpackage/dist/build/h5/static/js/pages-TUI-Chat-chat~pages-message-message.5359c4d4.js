(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-TUI-Chat-chat~pages-message-message"],{"038a":function(e,t,a){"use strict";a.r(t);var n=a("0515"),i=a("4ade");for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("0c7e");var s,r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"a2e985f6",null,!1,n["a"],s);t["default"]=c.exports},"0515":function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{class:"audio-message "+(e.isMine?"my-audio":"")},[a("v-uni-image",{staticClass:"audio-icon",attrs:{src:""}}),a("v-uni-view",{staticClass:"audio ",style:"width: 120rpx",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handlePlayAudioMessage.apply(void 0,arguments)}}},[e._v(e._s('" '+e.message.payload.second))])],1)},o=[]},"08b6":function(e,t,a){"use strict";var n=a("ffda"),i=a.n(n);i.a},"0c74":function(e,t,a){"use strict";a.r(t);var n=a("c7ab"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"0c7e":function(e,t,a){"use strict";var n=a("5488"),i=a.n(n);i.a},"0ce4":function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"TUI-ImageMessage",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewImage.apply(void 0,arguments)}}},[a("v-uni-image",{class:"image-message "+(e.isMine?"my-image":""),attrs:{mode:"widthFix",src:e.renderDom[0].src}})],1)},o=[]},"0e20":function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{class:"video-box "+(e.isMine?"my-video":""),on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.playerHander.apply(void 0,arguments)}}})},o=[]},"0e33":function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[1===e.message.payload.operationType?a("v-uni-view",{staticClass:"card handle"},[a("v-uni-view",[a("v-uni-view",{staticClass:"time"},[e._v(e._s(e.messageTime))]),e._v(e._s(e.renderDom))],1),a("v-uni-view",{staticClass:"choose"},[a("v-uni-view",{staticClass:"button",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClick.apply(void 0,arguments)}}},[e._v("处理")])],1)],1):a("v-uni-view",{staticClass:"card"},[a("v-uni-view",{staticClass:"time"},[e._v(e._s(e.messageTime))]),e._v(e._s(e.renderDom))],1)],1)},o=[]},"117a":function(e,t,a){"use strict";a.r(t);var n=a("9a2d"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},1418:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".container[data-v-2c47c5c8]{width:100%;height:%?200?%}.handle[data-v-2c47c5c8]{display:flex;justify-content:space-between}.card[data-v-2c47c5c8]{font-size:14px;margin:20px;padding:20px;box-sizing:border-box;border:1px solid #abdcff;background-color:#f0faff;border-radius:12px}.button[data-v-2c47c5c8]{color:#00f;border-radius:8px;line-height:30px;font-size:16px;width:70px}",""]),e.exports=t},"1a0c":function(e,t,a){"use strict";a.r(t);var n=a("c68c"),i=a("3557");for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("9147");var s,r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"07be480c",null,!1,n["a"],s);t["default"]=c.exports},"1e2b":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{audio:{}}},components:{},props:{message:{type:Object,default:function(){}},isMine:{type:Boolean,default:!0}},watch:{message:{handler:function(e){this.setData({message:e})},immediate:!0,deep:!0}},beforeMount:function(){this.audio=uni.createInnerAudioContext(),this.audio.onPlay((function(){console.log("开始播放")})),this.audio.onEnded((function(){console.log("停止播放")})),this.audio.onError((function(e){console.error(e,"onError"),uni.showToast({icon:"none",title:"该音频暂不支持播放"})}))},methods:{handlePlayAudioMessage:function(){this.audio.src=this.message.payload.url,this.audio.play()}}};t.default=n},"1e91":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".TUI-ImageMessage[data-v-a7ebd626]{width:150px}.image-message[data-v-a7ebd626]{width:100%;height:100%;border-radius:10px 10px 10px 10px}.my-image[data-v-a7ebd626]{border-radius:10px 2px 10px 10px}",""]),e.exports=t},2909:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var n=r(a("6005")),i=r(a("db90")),o=r(a("06c5")),s=r(a("3427"));function r(e){return e&&e.__esModule?e:{default:e}}function c(e){return(0,n.default)(e)||(0,i.default)(e)||(0,o.default)(e)||(0,s.default)()}},"2fcd":function(e,t,a){var n=a("9a1f4");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("a50bd34c",n,!0,{sourceMap:!1,shadowMode:!1})},"30e6":function(e,t,a){var n=a("3d67");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("36ffec62",n,!0,{sourceMap:!1,shadowMode:!1})},"328a":function(e,t,a){"use strict";a.r(t);var n=a("4b0e"),i=a("77a73");for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("b3d0");var s,r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"5de9587e",null,!1,n["a"],s);t["default"]=c.exports},"33d1":function(e,t,a){"use strict";var n=a("dc3b"),i=a.n(n);i.a},3427:function(e,t,a){"use strict";function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},3557:function(e,t,a){"use strict";a.r(t);var n=a("c156"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"38a7":function(e,t,a){"use strict";a.r(t);var n=a("641c"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"3b7c":function(e,t,a){var n=a("1e91");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("02cc806a",n,!0,{sourceMap:!1,shadowMode:!1})},"3d67":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".TUI-faceMessage[data-v-07be480c]{width:150px;height:110px;max-width:60vw}.face-message[data-v-07be480c]{width:100%;height:100%;border-radius:10px 10px 10px 10px}.my-image[data-v-07be480c]{border-radius:10px 2px 10px 10px}",""]),e.exports=t},"43ba":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".audio-message[data-v-a2e985f6]{padding:%?10?% %?18?%;border-radius:2px 10px 10px 10px;border:1px solid #d9d9d9;display:flex}.audio-icon[data-v-a2e985f6]{width:28px;height:28px}.my-audio[data-v-a2e985f6]{border-radius:10px 2px 10px 10px;background:rgba(0,110,255,.1);border:1px solid rgba(0,110,255,.3)}.audio[data-v-a2e985f6]{\n\t/*border-radius: 2px 10px 10px 10px;*/height:%?60?%;font-family:PingFangSC-Medium;font-size:%?28?%;color:#000;line-height:%?28?%;display:flex;align-items:center;justify-content:flex-end}",""]),e.exports=t},4431:function(e,t,a){"use strict";a.r(t);var n=a("9f73"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},4654:function(e,t,a){"use strict";var n=a("3b7c"),i=a.n(n);i.a},"4ade":function(e,t,a){"use strict";a.r(t);var n=a("1e2b"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"4b0e":function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-scroll-view",{staticClass:"message-list-container",attrs:{"scroll-y":"true","scroll-into-view":e.scrollView,"refresher-enabled":!0,"scroll-top":e.scrollTop,"refresher-triggered":e.triggered},on:{refresherrefresh:function(t){arguments[0]=t=e.$handleEvent(t),e.refresh.apply(void 0,arguments)}}},[a("v-uni-view",{staticStyle:{width:"100%"},attrs:{id:"message-scroll"}},[e.isCompleted?a("v-uni-view",{staticClass:"no-message"},[e._v(e._s(e.i18n.message.meiyougengduola))]):e._e(),e._l(e.messageList,(function(t){return a("v-uni-view",{key:t.ID,staticClass:"t-message"},["@TIM#SYSTEM"!==e.conversation.type?a("v-uni-view",{attrs:{id:t.ID}},[a("v-uni-view",{staticClass:"t-message-item"},["TIMGroupTipElem"===t.type?a("TUI-TipMessage",{attrs:{message:t}}):e._e(),"TIMGroupTipElem"!==t.type?a("v-uni-view",{class:"out"===t.flow?"t-self-message":"t-recieve-message"},["in"===t.flow?a("v-uni-image",{staticClass:"t-message-avatar",attrs:{src:t.avatar||"https://sdk-web-1252463788.cos.ap-hongkong.myqcloud.com/component/TUIKit/assets/avatar_21.png"}}):e._e(),"C2C"===e.conversation.type&&"out"===t.flow?a("v-uni-view",{staticClass:"read-receipts"},[t.isPeerRead?a("v-uni-view",[e._v(e._s(e.i18n.message.yidu))]):a("v-uni-view",[e._v(e._s(e.i18n.message.wudu))])],1):e._e(),a("v-uni-view",["TIMTextElem"===t.type?a("TUI-TextMessage",{attrs:{message:t,isMine:"out"===t.flow}}):e._e(),"TIMImageElem"===t.type?a("TUI-ImageMessage",{attrs:{message:t,isMine:"out"===t.flow}}):e._e(),"TIMVideoFileElem"===t.type?a("TUI-VideoMessage",{attrs:{message:t,isMine:"out"===t.flow}}):e._e(),"TIMSoundElem"===t.type?a("TUI-AudioMessage",{attrs:{message:t,isMine:"out"===t.flow}}):e._e(),"TIMCustomElem"===t.type?a("TUI-CustomMessage",{attrs:{message:t,isMine:"out"===t.flow}}):e._e(),"TIMFaceElem"===t.type?a("TUI-FaceMessage",{attrs:{message:t,isMine:"out"===t.flow}}):e._e(),"TIMFileElem"===t.type?a("TUI-FileMessage",{attrs:{message:t,isMine:"out"===t.flow}}):e._e()],1),"out"===t.flow?a("v-uni-image",{staticClass:"t-message-avatar",attrs:{src:t.avatar||"https://sdk-web-1252463788.cos.ap-hongkong.myqcloud.com/component/TUIKit/assets/avatar_21.png"}}):e._e()],1):e._e(),t.fanyi&&t.fanyi.length>0?a("v-uni-view",{staticClass:"text-message-fanyi"},[e._v(e._s(t.fanyi))]):e._e()],1)],1):a("v-uni-view",{attrs:{id:t.ID,"data-value":t.ID}},[a("TUI-SystemMessage",{attrs:{message:t}})],1)],1)}))],2)],1)},o=[]},"4daf":function(e,t,a){"use strict";var n=a("4ea4");a("99af"),a("4160"),a("c975"),a("ac1f"),a("159b"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("2909")),o=n(a("c8a7")),s=n(a("c360")),r=n(a("aefd")),c=n(a("038a")),d=n(a("dfe0")),u=n(a("8660")),l=n(a("6f18")),f=n(a("1a0c")),p=n(a("cbfd")),m={computed:{i18n:function(){return this.$t("index")}},data:function(){return{avatar:"",userID:"",messageList:[],scrollView:"",scrollTop:0,triggered:!0,nextReqMessageID:"",isCompleted:!1}},components:{TUITextMessage:o.default,TUIImageMessage:s.default,TUIVideoMessage:r.default,TUIAudioMessage:c.default,TUICustomMessage:d.default,TUITipMessage:u.default,TUISystemMessage:l.default,TUIFaceMessage:f.default,TUIFileMessage:p.default},props:{conversation:{type:Object,default:function(){}}},watch:{conversation:{handler:function(e){var t=this;e.conversationID&&this.setData({conversation:e},(function(){t.getMessageList(e)}))},immediate:!0,deep:!0}},mounted:function(){var e=this;uni.$TUIKit.getMyProfile().then((function(t){e.avatar=t.data.avatar,e.userID=t.data.userID})),uni.$TUIKit.on(uni.$TUIKitEvent.MESSAGE_RECEIVED,this.$onMessageReceived,this),uni.$TUIKit.on(uni.$TUIKitEvent.MESSAGE_READ_BY_PEER,this.$onMessageReadByPeer,this)},destroyed:function(){uni.$TUIKit.off(uni.$TUIKitEvent.MESSAGE_RECEIVED,this.$onMessageReceived)},methods:{refresh:function(){var e=this;this.isCompleted?this.setData({isCompleted:!0,triggered:!1}):(this.getMessageList(this.conversation),setTimeout((function(){e.setData({triggered:!1})}),2e3))},getMessageList:function(e){var t=this;this.isCompleted||uni.$TUIKit.getMessageList({conversationID:e.conversationID,nextReqMessageID:this.nextReqMessageID,count:15}).then((function(e){for(var a=e.data.messageList,n=[],o=0;o<a.length;o++){var s=a[o];-1!=s.payload.text.indexOf("TUIKit-kami")?console.log("messageList",s.payload.text):n.push(s)}t.nextReqMessageID=e.data.nextReqMessageID,t.isCompleted=e.data.isCompleted,t.messageList=[].concat(n,(0,i.default)(t.messageList)),t.$handleMessageRender(t.messageList,n)}))},updateMessageList:function(e){this.messageList=[].concat((0,i.default)(this.messageList),[e]),this.scrollToButtom()},$onMessageReadByPeer:function(){this.setData({messageList:this.messageList})},scrollToButtom:function(){var e=this,t=uni.createSelectorQuery().in(this),a=t.select("#message-scroll");a.boundingClientRect((function(t){e.$nextTick((function(){e.scrollTop=t.height}))})).exec()},$onMessageReceived:function(e){var t=this,a=e,n=[];a.data.forEach((function(e){e.conversationID===t.conversation.conversationID&&-1!=e.text.indexOf("TUIKit-kami")&&n.push(Object.assign(e))})),this.messageList=this.messageList.concat(n),this.scrollToButtom()},$handleMessageRender:function(e){var t=this;e.length>0&&(this.setData({messageList:e},(function(){})),this.$nextTick((function(){t.scrollTop=9999})))},doFanyiItem:function(e){var t,a;console.log(e.payload.text),uni.showLoading({title:" "});var n=uni.getStorageSync("system_info"),i=n.language;-1!=i.indexOf("zh")?(t="th",a="zh-CN"):(t="zh-CN",a="th");var o=this;uni.request({url:"https://translate.googleapis.com/translate_a/single?client=gtx&dt=t&sl="+t+"&tl="+a+"&q="+e.payload.text,success:function(t){uni.hideLoading(),console.log(t.data[0][0][0]),e.fanyi=t.data[0][0][0],o.$forceUpdate()},fail:function(e){console.log(e),uni.hideLoading()},complete:function(e){console.log(e.data[0][0]),uni.hideLoading()}})}}};t.default=m},"52b3":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".video-box[data-v-e3b397d6]{width:160px;height:120px;background-color:rgba(0,0,0,.2);border-radius:10px 2px 10px 10px;display:flex;justify-content:center;align-items:center}.my-video[data-v-e3b397d6]{border-radius:10px 2px 10px 10px}.icon[data-v-e3b397d6]{position:absolute;bottom:30px;right:30px}.video-icon[data-v-e3b397d6]{display:block;width:32px;height:32px}",""]),e.exports=t},5476:function(e,t,a){var n=a("6157");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("3210b7f5",n,!0,{sourceMap:!1,shadowMode:!1})},5488:function(e,t,a){var n=a("43ba");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("6ba8c25d",n,!0,{sourceMap:!1,shadowMode:!1})},6005:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var n=i(a("6b75"));function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e))return(0,n.default)(e)}},6157:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".tip-message[data-v-645f157c]{width:100%}.text-message[data-v-645f157c]{text-align:center;font-size:12px;color:#999}",""]),e.exports=t},"641c":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{Show:!1,filePayload:{}}},components:{},props:{message:{type:Object,default:function(){}},isMine:{type:Boolean,default:!0}},watch:{message:{handler:function(e){this.setData({filePayload:e.payload})},immediate:!0,deep:!0}},methods:{download:function(){this.setData({Show:!0})},downloadConfirm:function(){uni.downloadFile({url:this.filePayload.fileUrl,success:function(e){var t=e.tempFilePath;uni.openDocument({filePath:t,success:function(){console.log("打开文档成功")}})}})},cancel:function(){this.setData({Show:!1})}}};t.default=n},6536:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{isPlay:!1}},components:{},props:{message:{type:Object,default:function(){}},isMine:{type:Boolean,default:!0}},watch:{message:{handler:function(e){this.setData({message:e})},immediate:!0,deep:!0}},methods:{playerHander:function(){uni.$emit("videoPlayerHandler",{isPlay:!0,message:this.message})},stopHander:function(){this.isPlay=!1}}};t.default=n},"6b8e":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".message-list-container[data-v-5de9587e]{width:100%;height:100%;background-color:#f5f6f7}.t-message-item[data-v-5de9587e]{\n\t/*max-width: 60vw;*/padding:%?16?% 0}.t-recieve-message[data-v-5de9587e]{display:flex;flex-direction:row;justify-items:flex-start;align-items:center;width:100vw}.t-message-avatar[data-v-5de9587e]{margin-left:%?20?%;margin-right:%?12?%;border-radius:%?10?%;width:%?80?%;height:%?80?%}.t-self-message[data-v-5de9587e]{display:flex;flex-direction:row;justify-content:flex-end;\n\t/*align-items: center;*/width:100vw}.t-self-message-body[data-v-5de9587e]{display:flex;justify-content:flex-start;flex-wrap:wrap;outline:none}.t-recieve-message-body[data-v-5de9587e]{display:flex;justify-content:flex-start;flex-wrap:wrap;outline:none;\n\t/*background: #F8F8F8;*/border-radius:2px 10px 10px 10px;margin-left:%?8?%}.read-receipts[data-v-5de9587e]{line-height:42px;height:42px;font-size:12px;color:#6e7981;margin-right:10px}.no-message[data-v-5de9587e]{text-align:center;position:fixed;width:100%;font-size:12px;color:#a5b5c1;height:40px;top:-40px;right:0}.text-message-fanyi[data-v-5de9587e]{margin-top:%?10?%;margin-left:%?100?%;display:inline-flex;max-width:60vw;line-height:%?52?%;padding:%?12?% %?24?%;background:#fff;border:1px solid #d9d9d9;border-radius:2px 10px 10px 10px}",""]),e.exports=t},"6f18":function(e,t,a){"use strict";a.r(t);var n=a("0e33"),i=a("d9f5");for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("33d1");var s,r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"2c47c5c8",null,!1,n["a"],s);t["default"]=c.exports},"77a73":function(e,t,a){"use strict";a.r(t);var n=a("4daf"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},7974:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("d3f0"),i=a("df13"),o={data:function(){return{messageTime:"",renderDom:""}},components:{},props:{message:{type:Object}},watch:{message:{handler:function(e){this.setData({messageTime:(0,i.caculateTimeago)(1e3*e.time),renderDom:(0,n.parseGroupSystemNotice)(e)})},immediate:!0,deep:!0}},methods:{handleClick:function(){var e=this;uni.showActionSheet({itemList:["同意","拒绝"],success:function(t){var a={handleAction:"Agree",handleMessage:"欢迎进群",message:e.message};1===t.tapIndex&&(a.handleAction="Reject",a.handleMessage="拒绝申请"),uni.$TUIKit.handleGroupApplication(a).then((function(){uni.showToast({title:"Agree"===a.handleAction?"已同意申请":"已拒绝申请"})})).catch((function(e){uni.showToast({title:e.message||"处理失败",icon:"none"})}))}})}}};t.default=o},"7e60":function(e,t,a){"use strict";a.r(t);var n=a("6536"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"83c6":function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",["order"===e.renderDom[0].type?a("v-uni-view",{class:"custom-message "+(e.isMine?"my-custom":"")},[a("v-uni-image",{staticClass:"custom-image",attrs:{src:e.renderDom[0].imageUrl}}),a("v-uni-view",{staticClass:"custom-content"},[a("v-uni-view",{staticClass:"custom-content-title"},[e._v(e._s(e.renderDom[0].title))]),a("v-uni-view",{staticClass:"custom-content-description"},[e._v(e._s(e.renderDom[0].description))]),a("v-uni-view",{staticClass:"custom-content-price"},[e._v(e._s(e.renderDom[0].price))])],1)],1):e._e(),"consultion"===e.renderDom[0].type?a("v-uni-view",{class:"custom-message "+(e.isMine?"my-custom":"")},[a("v-uni-view",{staticClass:"custom-content"},[a("v-uni-view",{staticClass:"custom-content-title"},[e._v(e._s(e.renderDom[0].title))]),e._l(e.renderDom[0].item,(function(t,n){return a("v-uni-view",{key:n,staticClass:"custom-content-description",attrs:{id:t.key}},[e._v(e._s(t.key))])})),a("v-uni-view",{staticClass:"custom-content-description"},[e._v(e._s(e.renderDom[0].description))])],2)],1):e._e(),"evaluation"===e.renderDom[0].type?a("v-uni-view",{class:"custom-message "+(e.isMine?"my-custom":"")},[a("v-uni-view",{staticClass:"custom-content"},[a("v-uni-view",{staticClass:"custom-content-title"},[e._v(e._s(e.renderDom[0].title))]),a("v-uni-view",{staticClass:"custom-content-score"},e._l(e.renderDom[0].score,(function(e,t){return a("v-uni-image",{key:t,staticClass:"score-star",attrs:{src:"/static/static/images/star.png"}})})),1),a("v-uni-view",{staticClass:"custom-content-description"},[e._v(e._s(e.renderDom[0].description))])],1)],1):e._e(),"group_create"===e.renderDom[0].type?a("v-uni-view",{class:"custom-message "+(e.isMine?"my-custom":"")},[a("v-uni-view",{staticClass:"custom-content-text"},[e._v(e._s(e.renderDom[0].text))])],1):e._e(),"c2cCalling"===e.renderDom[0].type||"groupCalling"===e.renderDom[0].type?a("v-uni-view",{class:"custom-message "+(e.isMine?"my-custom":"")},[a("v-uni-view",{staticClass:"custom-content-text"},[e._v(e._s(e.renderDom[0].text))])],1):e._e(),"notSupport"===e.renderDom[0].type?a("v-uni-view",{staticClass:"message-body-span text-message"},[a("v-uni-view",{staticClass:"message-body-span-text"},[e._v(e._s(e.renderDom[0].text))])],1):e._e()],1)},o=[]},8444:function(e,t,a){"use strict";var n=a("fc1f"),i=a.n(n);i.a},8660:function(e,t,a){"use strict";a.r(t);var n=a("b47c"),i=a("4431");for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("bf22");var s,r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"645f157c",null,!1,n["a"],s);t["default"]=c.exports},"8c0b":function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",[a("v-uni-view",{staticClass:"TUI-fileMessage"},[a("v-uni-view",{staticClass:"fileMessage"},[a("v-uni-view",{staticClass:"fileMessage-box"},[a("v-uni-image",{staticClass:"file-icon",attrs:{src:"/static/static/images/file.png"}}),a("v-uni-label",{staticClass:"file-title",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.download.apply(void 0,arguments)}}},[e._v(e._s(e.filePayload.fileName))])],1)],1)],1),e.Show?a("v-uni-view",{staticClass:"pop"},[a("v-uni-view",{staticClass:"text-box"},[a("v-uni-text",{staticClass:"download-confirm",on:{click:function(t){t.stopPropagation(),arguments[0]=t=e.$handleEvent(t),e.downloadConfirm.apply(void 0,arguments)}}},[e._v("下载")])],1),a("v-uni-view",{staticClass:"text-box"},[a("v-uni-text",{staticClass:"abandon",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.cancel.apply(void 0,arguments)}}},[e._v("取消")])],1)],1):e._e()],1)},o=[]},"8db1":function(e,t,a){"use strict";a.r(t);var n=a("e79e"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},"8f27":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emojiName=t.emojiMap=t.emojiUrl=void 0;var n="https://web.sdk.qcloud.com/im/assets/emoji/";t.emojiUrl=n;var i={"[NO]":"emoji_0@2x.png","[OK]":"emoji_1@2x.png","[下雨]":"emoji_2@2x.png","[么么哒]":"emoji_3@2x.png","[乒乓]":"emoji_4@2x.png","[便便]":"emoji_5@2x.png","[信封]":"emoji_6@2x.png","[偷笑]":"emoji_7@2x.png","[傲慢]":"emoji_8@2x.png","[再见]":"emoji_9@2x.png","[冷汗]":"emoji_10@2x.png","[凋谢]":"emoji_11@2x.png","[刀]":"emoji_12@2x.png","[删除]":"emoji_13@2x.png","[勾引]":"emoji_14@2x.png","[发呆]":"emoji_15@2x.png","[发抖]":"emoji_16@2x.png","[可怜]":"emoji_17@2x.png","[可爱]":"emoji_18@2x.png","[右哼哼]":"emoji_19@2x.png","[右太极]":"emoji_20@2x.png","[右车头]":"emoji_21@2x.png","[吐]":"emoji_22@2x.png","[吓]":"emoji_23@2x.png","[咒骂]":"emoji_24@2x.png","[咖啡]":"emoji_25@2x.png","[啤酒]":"emoji_26@2x.png","[嘘]":"emoji_27@2x.png","[回头]":"emoji_28@2x.png","[困]":"emoji_29@2x.png","[坏笑]":"emoji_30@2x.png","[多云]":"emoji_31@2x.png","[大兵]":"emoji_32@2x.png","[大哭]":"emoji_33@2x.png","[太阳]":"emoji_34@2x.png","[奋斗]":"emoji_35@2x.png","[奶瓶]":"emoji_36@2x.png","[委屈]":"emoji_37@2x.png","[害羞]":"emoji_38@2x.png","[尴尬]":"emoji_39@2x.png","[左哼哼]":"emoji_40@2x.png","[左太极]":"emoji_41@2x.png","[左车头]":"emoji_42@2x.png","[差劲]":"emoji_43@2x.png","[弱]":"emoji_44@2x.png","[强]":"emoji_45@2x.png","[彩带]":"emoji_46@2x.png","[彩球]":"emoji_47@2x.png","[得意]":"emoji_48@2x.png","[微笑]":"emoji_49@2x.png","[心碎了]":"emoji_50@2x.png","[快哭了]":"emoji_51@2x.png","[怄火]":"emoji_52@2x.png","[怒]":"emoji_53@2x.png","[惊恐]":"emoji_54@2x.png","[惊讶]":"emoji_55@2x.png","[憨笑]":"emoji_56@2x.png","[手枪]":"emoji_57@2x.png","[打哈欠]":"emoji_58@2x.png","[抓狂]":"emoji_59@2x.png","[折磨]":"emoji_60@2x.png","[抠鼻]":"emoji_61@2x.png","[抱抱]":"emoji_62@2x.png","[抱拳]":"emoji_63@2x.png","[拳头]":"emoji_64@2x.png","[挥手]":"emoji_65@2x.png","[握手]":"emoji_66@2x.png","[撇嘴]":"emoji_67@2x.png","[擦汗]":"emoji_68@2x.png","[敲打]":"emoji_69@2x.png","[晕]":"emoji_70@2x.png","[月亮]":"emoji_71@2x.png","[棒棒糖]":"emoji_72@2x.png","[汽车]":"emoji_73@2x.png","[沙发]":"emoji_74@2x.png","[流汗]":"emoji_75@2x.png","[流泪]":"emoji_76@2x.png","[激动]":"emoji_77@2x.png","[灯泡]":"emoji_78@2x.png","[炸弹]":"emoji_79@2x.png","[熊猫]":"emoji_80@2x.png","[爆筋]":"emoji_81@2x.png","[爱你]":"emoji_82@2x.png","[爱心]":"emoji_83@2x.png","[爱情]":"emoji_84@2x.png","[猪头]":"emoji_85@2x.png","[猫咪]":"emoji_86@2x.png","[献吻]":"emoji_87@2x.png","[玫瑰]":"emoji_88@2x.png","[瓢虫]":"emoji_89@2x.png","[疑问]":"emoji_90@2x.png","[白眼]":"emoji_91@2x.png","[皮球]":"emoji_92@2x.png","[睡觉]":"emoji_93@2x.png","[磕头]":"emoji_94@2x.png","[示爱]":"emoji_95@2x.png","[礼品袋]":"emoji_96@2x.png","[礼物]":"emoji_97@2x.png","[篮球]":"emoji_98@2x.png","[米饭]":"emoji_99@2x.png","[糗大了]":"emoji_100@2x.png","[红双喜]":"emoji_101@2x.png","[红灯笼]":"emoji_102@2x.png","[纸巾]":"emoji_103@2x.png","[胜利]":"emoji_104@2x.png","[色]":"emoji_105@2x.png","[药]":"emoji_106@2x.png","[菜刀]":"emoji_107@2x.png","[蛋糕]":"emoji_108@2x.png","[蜡烛]":"emoji_109@2x.png","[街舞]":"emoji_110@2x.png","[衰]":"emoji_111@2x.png","[西瓜]":"emoji_112@2x.png","[调皮]":"emoji_113@2x.png","[象棋]":"emoji_114@2x.png","[跳绳]":"emoji_115@2x.png","[跳跳]":"emoji_116@2x.png","[车厢]":"emoji_117@2x.png","[转圈]":"emoji_118@2x.png","[鄙视]":"emoji_119@2x.png","[酷]":"emoji_120@2x.png","[钞票]":"emoji_121@2x.png","[钻戒]":"emoji_122@2x.png","[闪电]":"emoji_123@2x.png","[闭嘴]":"emoji_124@2x.png","[闹钟]":"emoji_125@2x.png","[阴险]":"emoji_126@2x.png","[难过]":"emoji_127@2x.png","[雨伞]":"emoji_128@2x.png","[青蛙]":"emoji_129@2x.png","[面条]":"emoji_130@2x.png","[鞭炮]":"emoji_131@2x.png","[风车]":"emoji_132@2x.png","[飞吻]":"emoji_133@2x.png","[飞机]":"emoji_134@2x.png","[饥饿]":"emoji_135@2x.png","[香蕉]":"emoji_136@2x.png","[骷髅]":"emoji_137@2x.png","[麦克风]":"emoji_138@2x.png","[麻将]":"emoji_139@2x.png","[鼓掌]":"emoji_140@2x.png","[龇牙]":"emoji_141@2x.png"};t.emojiMap=i;var o=["[龇牙]","[调皮]","[流汗]","[偷笑]","[再见]","[敲打]","[擦汗]","[猪头]","[玫瑰]","[流泪]","[大哭]","[嘘]","[酷]","[抓狂]","[委屈]","[便便]","[炸弹]","[菜刀]","[可爱]","[色]","[害羞]","[得意]","[吐]","[微笑]","[怒]","[尴尬]","[惊恐]","[冷汗]","[爱心]","[示爱]","[白眼]","[傲慢]","[难过]","[惊讶]","[疑问]","[困]","[么么哒]","[憨笑]","[爱情]","[衰]","[撇嘴]","[阴险]","[奋斗]","[发呆]","[右哼哼]","[抱抱]","[坏笑]","[飞吻]","[鄙视]","[晕]","[大兵]","[可怜]","[强]","[弱]","[握手]","[胜利]","[抱拳]","[凋谢]","[米饭]","[蛋糕]","[西瓜]","[啤酒]","[瓢虫]","[勾引]","[OK]","[爱你]","[咖啡]","[月亮]","[刀]","[发抖]","[差劲]","[拳头]","[心碎了]","[太阳]","[礼物]","[皮球]","[骷髅]","[挥手]","[闪电]","[饥饿]","[困]","[咒骂]","[折磨]","[抠鼻]","[鼓掌]","[糗大了]","[左哼哼]","[打哈欠]","[快哭了]","[吓]","[篮球]","[乒乓]","[NO]","[跳跳]","[怄火]","[转圈]","[磕头]","[回头]","[跳绳]","[激动]","[街舞]","[献吻]","[左太极]","[右太极]","[闭嘴]","[猫咪]","[红双喜]","[鞭炮]","[红灯笼]","[麻将]","[麦克风]","[礼品袋]","[信封]","[象棋]","[彩带]","[蜡烛]","[爆筋]","[棒棒糖]","[奶瓶]","[面条]","[香蕉]","[飞机]","[左车头]","[车厢]","[右车头]","[多云]","[下雨]","[钞票]","[熊猫]","[灯泡]","[风车]","[闹钟]","[雨伞]","[彩球]","[钻戒]","[沙发]","[纸巾]","[手枪]","[青蛙]"];t.emojiName=o},"8fdb":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".TUI-fileMessage[data-v-5398ddb8]{display:flex;padding:%?10?% %?24?%;background-color:#fff;border-radius:2px 10px 10px 10px;border:1px solid #d9d9d9}.fileMessage[data-v-5398ddb8]{display:flex}.fileMessage-box[data-v-5398ddb8]{display:flex;background:#fff;align-items:center;height:%?150?%}.file-icon[data-v-5398ddb8]{width:%?80?%;height:%?80?%}.pop[data-v-5398ddb8]{position:fixed;width:50%;bottom:%?400?%;margin-left:%?90?%;background:rgba(0,0,0,.3);z-index:99999}.text-box[data-v-5398ddb8]{display:flex;justify-content:center;align-items:center;height:%?112?%}.download-confirm[data-v-5398ddb8]{font-family:PingFangSC-Regular;font-size:16px;color:#e85454;letter-spacing:0;text-align:center;line-height:22px}.abandon[data-v-5398ddb8]{opacity:.8;font-family:PingFangSC-Regular;font-size:16px;color:#fff;letter-spacing:0;text-align:center;line-height:22px}.file-title[data-v-5398ddb8]{max-width:53vw;display:inline;word-wrap:break-word;word-break:break-all}",""]),e.exports=t},9147:function(e,t,a){"use strict";var n=a("30e6"),i=a.n(n);i.a},"9a1f4":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".custom-message[data-v-3bf80e79]{display:flex;padding:%?10?% %?24?%;background-color:#fff;border-radius:2px 10px 10px 10px;border:1px solid #d9d9d9}.my-custom[data-v-3bf80e79]{border-radius:10px 2px 10px 10px;border:1px solid rgba(0,110,255,.3)}.custom-content-title[data-v-3bf80e79]{font-family:PingFangSC-Medium;width:%?278?%;line-height:%?34?%;font-size:%?24?%;color:#000;letter-spacing:0;margin-bottom:%?12?%}.custom-content-description[data-v-3bf80e79]{font-family:PingFangSC-Regular;width:%?278?%;line-height:%?34?%;font-size:%?28?%;color:#006eff;letter-spacing:0;margin-bottom:%?12?%}.custom-content-price[data-v-3bf80e79]{font-family:PingFangSC-Medium;line-height:%?50?%;color:#ff7201;letter-spacing:0}.custom-image[data-v-3bf80e79]{width:%?135?%;height:%?135?%;border-radius:%?6?%;margin-right:%?10?%;margin-top:%?4?%}.custom-content-score[data-v-3bf80e79]{display:flex;align-items:center;padding-bottom:%?12?%}.custom-content-score .score-star[data-v-3bf80e79]{width:%?36?%;height:%?36?%;margin-right:%?10?%}.text-message[data-v-3bf80e79]{display:inline-flex;max-width:60vw;line-height:%?52?%;padding:%?12?% %?24?%;background:#f8f8f8;border:1px solid #d9d9d9;border-radius:2px 10px 10px 10px}.my-text[data-v-3bf80e79]{border-radius:10px 2px 10px 10px;border:1px solid rgba(0,110,255,.3);background:rgba(0,110,255,.1)}.message-body-span[data-v-3bf80e79]{display:flex;justify-content:center;align-items:center;\n\t/*justify-content: flex-start;*/flex-wrap:wrap;outline:none;font-size:%?28?%;color:#333;position:relative;max-width:60vw}.message-body-span-text[data-v-3bf80e79]{width:100%;display:inline;word-wrap:break-word;word-break:break-all}.custom-content-text[data-v-3bf80e79]{font-family:PingFangSC-Regular;height:25px;line-height:25px;font-size:%?28?%;letter-spacing:0}",""]),e.exports=t},"9a2d":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("d3f0"),i={data:function(){return{renderDom:[]}},components:{},props:{message:{type:Object},isMine:{type:Boolean,default:!0}},watch:{message:{handler:function(e){this.setData({renderDom:(0,n.parseText)(e)})},immediate:!0,deep:!0}},beforeMount:function(){},destroyed:function(){},methods:{}};t.default=i},"9f73":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("d3f0"),i={data:function(){return{}},components:{},props:{message:{type:Object}},watch:{message:{handler:function(e){this.setData({renderDom:(0,n.parseGroupTip)(e)})},immediate:!0,deep:!0}},beforeMount:function(){},destroyed:function(){},methods:{}};t.default=i},aefd:function(e,t,a){"use strict";a.r(t);var n=a("0e20"),i=a("7e60");for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("08b6");var s,r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"e3b397d6",null,!1,n["a"],s);t["default"]=c.exports},b3d0:function(e,t,a){"use strict";var n=a("cd34"),i=a.n(n);i.a},b47c:function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"tip-message"},[a("v-uni-view",{staticClass:"text-message"},[e._v(e._s(e.renderDom[0].text))])],1)},o=[]},b898:function(e,t,a){var n=a("8fdb");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("f832df80",n,!0,{sourceMap:!1,shadowMode:!1})},bf22:function(e,t,a){"use strict";var n=a("5476"),i=a.n(n);i.a},c156:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{renderDom:[],percent:0,faceUrl:"https://web.sdk.qcloud.com/im/assets/face-elem/"}},components:{},props:{message:{type:Object},isMine:{type:Boolean,default:!0}},watch:{message:{handler:function(e){this.setData({renderDom:this.parseFace(e)})},immediate:!0,deep:!0}},methods:{parseFace:function(e){var t={src:"".concat(this.faceUrl+e.payload.data,"@2x.png")};return t},previewImage:function(){uni.previewImage({current:this.renderDom[0].src,urls:[this.renderDom[0].src]})}}};t.default=n},c25a:function(e,t,a){"use strict";var n=a("b898"),i=a.n(n);i.a},c360:function(e,t,a){"use strict";a.r(t);var n=a("0ce4"),i=a("8db1");for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("4654");var s,r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"a7ebd626",null,!1,n["a"],s);t["default"]=c.exports},c68c:function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"TUI-faceMessage",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.previewImage.apply(void 0,arguments)}}},[a("v-uni-image",{staticClass:"face-message",attrs:{src:e.renderDom.src}})],1)},o=[]},c7ab:function(e,t,a){"use strict";a("a4d3"),a("e01a"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("df13"),i={data:function(){return{}},components:{},props:{message:{type:Object,default:function(){}},isMine:{type:Boolean,default:!0}},watch:{message:{handler:function(e){this.setData({message:e,renderDom:this.parseCustom(e)})},immediate:!0,deep:!0}},methods:{extractCallingInfoFromMessage:function(e){var t=JSON.parse(e.payload.data);if(1!==t.businessID)return"";var a=JSON.parse(t.data);switch(t.actionType){case 1:return a.call_end>=0&&!t.groupID?"通话时长：".concat((0,n.formateTime)(a.call_end)):t.groupID?"结束群聊":a.data&&"switchToAudio"===a.data.cmd?"切换语音通话":a.data&&"switchToVideo"===a.data.cmd?"切换视频通话":"发起通话";case 2:return"取消通话";case 3:return a.data&&"switchToAudio"===a.data.cmd?"切换语音通话":a.data&&"switchToVideo"===a.data.cmd?"切换视频通话":"已接听";case 4:return"拒绝通话";case 5:return a.data&&"switchToAudio"===a.data.cmd?"切换语音通话":a.data&&"switchToVideo"===a.data.cmd?"切换视频通话":"无应答";default:return""}},parseCustom:function(e){if("order"===e.payload.data){var t=JSON.parse(e.payload.extension),a=[{type:"order",name:"custom",title:t.title||"",imageUrl:t.imageUrl||"",price:t.price||0,description:e.payload.description}];return a}if("consultion"===e.payload.data){var n=JSON.parse(e.payload.extension),i=[{type:"consultion",title:n.title||"",item:n.item||0,description:n.description}];return i}if("evaluation"===e.payload.data){var o=JSON.parse(e.payload.extension),s=[{type:"evaluation",title:e.payload.description,score:o.score,description:o.comment}];return s}if("group_create"===e.payload.data){var r=[{type:"group_create",text:e.payload.extension}];return r}var c=JSON.parse(e.payload.data);if(1===c.businessID){if("GROUP"===e.conversationType){5===e.payload.data.actionType&&(e.nick=e.payload.data.inviteeList?e.payload.data.inviteeList.join(","):e.from);var d=this.extractCallingInfoFromMessage(e),u="".concat(d),l=[{type:"groupCalling",text:u,userIDList:[]}];return l}if("C2C"===e.conversationType){var f=this.extractCallingInfoFromMessage(e),p=[{type:"c2cCalling",text:f}];return p}}if("group_create"===e.payload.data){var m=[{type:"group_create",text:e.payload.extension}];return m}return[{type:"notSupport",text:"[自定义消息]"}]}}};t.default=i},c8a7:function(e,t,a){"use strict";a.r(t);var n=a("db97"),i=a("117a");for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("8444");var s,r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"2faa2856",null,!1,n["a"],s);t["default"]=c.exports},ca95:function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,".text-message[data-v-2faa2856]{display:inline-flex;max-width:60vw;line-height:%?52?%;padding:%?12?% %?24?%;background:#fff;border:1px solid #d9d9d9;border-radius:2px 10px 10px 10px}.my-text[data-v-2faa2856]{border-radius:10px 2px 10px 10px;\n\t/* border: 1px solid rgba(0, 110, 255, 0.30); */\n\t/* background: rgba(0, 110, 255, 0.10); */background:#ff5725}.message-body-span[data-v-2faa2856]{display:flex;justify-content:center;align-items:center;\n\t/*justify-content: flex-start;*/flex-wrap:wrap;outline:none;font-size:%?28?%;color:#333;position:relative;max-width:60vw}.message-body-span-text[data-v-2faa2856]{width:100%;display:inline;word-wrap:break-word;word-break:break-all}.message-body-span-image[data-v-2faa2856]{display:inline-block;width:%?32?%;height:%?32?%;margin:0 %?4?%}.emoji-icon[data-v-2faa2856]{width:20px;height:20px}",""]),e.exports=t},cbfd:function(e,t,a){"use strict";a.r(t);var n=a("8c0b"),i=a("38a7");for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("c25a");var s,r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"5398ddb8",null,!1,n["a"],s);t["default"]=c.exports},cd34:function(e,t,a){var n=a("6b8e");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("59e0bf9c",n,!0,{sourceMap:!1,shadowMode:!1})},d3f0:function(e,t,a){"use strict";var n=a("4ea4");a("99af"),a("c975"),a("fb6a"),Object.defineProperty(t,"__esModule",{value:!0}),t.parseText=r,t.parseGroupSystemNotice=c,t.parseGroupTip=d,t.parseImage=u,t.parseVideo=l,t.parseAudio=f;var i=n(a("b85c")),o=a("8f27"),s={MEMBER_JOIN:1,MEMBER_QUIT:2,MEMBER_KICKED_OUT:3,MEMBER_SET_ADMIN:4,MEMBER_CANCELED_ADMIN:5,GROUP_INFO_MODIFIED:6,MEMBER_INFO_MODIFIED:7};function r(e){var t=[],a=e.payload.text,n=-1,i=-1;while(""!==a)switch(n=a.indexOf("["),i=a.indexOf("]"),n){case 0:if(-1===i)t.push({name:"span",text:a}),a="";else{var s=a.slice(0,i+1);o.emojiMap[s]?(t.push({name:"img",src:o.emojiUrl+o.emojiMap[s]}),a=a.substring(i+1)):(t.push({name:"span",text:"["}),a=a.slice(1))}break;case-1:t.push({name:"span",text:a}),a="";break;default:t.push({name:"span",text:a.slice(0,n)}),a=a.substring(n);break}return t}function c(e){var t,a=e.payload,n=a.groupProfile.name||a.groupProfile.groupID,i=a.groupProfile.groupID;switch(a.operationType){case 1:t="".concat(a.operatorID," 申请加入群组：").concat(n,"（群ID:").concat(i,")");break;case 2:t="成功加入群组：".concat(n," （群ID:").concat(i,")");break;case 3:t="申请加入群组：".concat(n," （群ID:").concat(i,")被拒绝");break;case 4:t="被管理员".concat(a.operatorID,"踢出群组：").concat(n,"（群ID:").concat(i,")");break;case 5:t="群：".concat(n," （群ID:").concat(i,")已被").concat(a.operatorID,"解散");break;case 6:t="我（用户ID:".concat(a.operatorID,"）成功创建群聊:").concat(n,"（群ID:").concat(i,")");break;case 7:t="用户ID：".concat(a.operatorID,"邀请你加群：").concat(n,"（群ID:").concat(i,")");break;case 8:t="你退出群组：".concat(n,"（群ID:").concat(i,")");break;case 9:t="你被".concat(a.operatorID,"设置为群：").concat(n,"（群ID:").concat(i,")的管理员");break;case 10:t="你被".concat(a.operatorID,"撤销群：").concat(n," （群ID:").concat(i,")的管理员身份");break;case 255:t="自定义群系统通知: ".concat(a.userDefinedField);break}return t}function d(e){var t,a,n=e.payload,o=e.nick||n.userIDList.join(",");switch(n.operationType){case s.MEMBER_JOIN:t="".concat(o," 加入群聊");break;case s.MEMBER_QUIT:t="群成员退群：".concat(o);break;case s.MEMBER_KICKED_OUT:t="群成员被踢：".concat(o);break;case s.MEMBER_SET_ADMIN:t="".concat(n.operatorID,"将 ").concat(o,"设置为管理员");break;case s.MEMBER_CANCELED_ADMIN:t="".concat(n.operatorID,"将 ").concat(o,"取消作为管理员");break;case s.GROUP_INFO_MODIFIED:t="群资料修改";break;case s.MEMBER_INFO_MODIFIED:var r,c=(0,i.default)(n.memberList);try{for(c.s();!(r=c.n()).done;){var d=r.value;t=d.muteTime>0?"群成员：".concat(d.userID,"被禁言").concat(d.muteTime,"秒"):"群成员：".concat(d.userID,"被取消禁言")}}catch(u){c.e(u)}finally{c.f()}break;case 256:a=e.nick||e.from,"无应答"===n.text&&(a=n.userIDList.join(",")),t="结束群聊"===n.text?"结束群聊":'"'.concat(a,'" ').concat(n.text);break}return[{name:"groupTip",text:t}]}function u(e){var t=[{name:"image",src:e.payload.imageInfoArray[0].url}];return t}function l(e){var t={name:"video",src:e.payload.videoUrl};return t}function f(e){var t={name:"audio",src:e.payload.url,second:0===e.payload.second?1:e.payload.second};return t}},d8d0:function(e,t,a){"use strict";var n=a("2fcd"),i=a.n(n);i.a},d9f5:function(e,t,a){"use strict";a.r(t);var n=a("7974"),i=a.n(n);for(var o in n)"default"!==o&&function(e){a.d(t,e,(function(){return n[e]}))}(o);t["default"]=i.a},db90:function(e,t,a){"use strict";function n(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("d3b7"),a("3ca3"),a("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},db97:function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return n}));var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{class:"text-message "+(e.isMine?"my-text":"")},e._l(e.renderDom,(function(t,n){return a("v-uni-view",{key:n,staticClass:"message-body-span"},["span"===t.name?a("span",{staticClass:"message-body-span-text",style:e.isMine?"color:#FFFFFF;":""},[e._v(e._s(t.text))]):e._e(),"img"===t.name?a("v-uni-image",{staticClass:"emoji-icon",attrs:{src:t.src}}):e._e()],1)})),1)},o=[]},dc3b:function(e,t,a){var n=a("1418");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("4070a2bb",n,!0,{sourceMap:!1,shadowMode:!1})},df13:function(e,t,a){"use strict";function n(e){var t=6e4,a=60*t,n=24*a,i=7*n,o=(new Date).getTime(),s=o-e,r="";if(!(s<0)){var c=s/t,d=s/a,u=s/n,l=s/i;if(l>=1&&l<=4)r=" ".concat(parseInt(l,10),"周前");else if(u>=1&&u<=6)r=" ".concat(parseInt(u,10),"天前");else if(d>=1&&d<=23)r=" ".concat(parseInt(d,10),"小时前");else if(c>=1&&c<=59)r=" ".concat(parseInt(c,10),"分钟前");else if(s>=0&&s<=t)r="刚刚";else{var f=new Date;f.setTime(e);var p=f.getFullYear(),m=f.getMonth()+1<10?"0".concat(f.getMonth()+1):f.getMonth()+1,g=f.getDate()<10?"0".concat(f.getDate()):f.getDate();r="".concat(p,"-").concat(m,"-").concat(g)}return r}}function i(e){var t,a,n,i,o=e;return o>=3600?(a=parseInt(o/3600)<10?"0".concat(parseInt(o/3600)):parseInt(o/3600),n=parseInt(o%60/60)<10?"0".concat(parseInt(o%60/60)):parseInt(o%60/60),i=o%3600<10?"0".concat(o%3600):o%3600,i>60&&(n=parseInt(i/60)<10?"0".concat(parseInt(i/60)):parseInt(i/60),i=i%60<10?"0".concat(i%60):i%60),t="".concat(a,":").concat(n,":").concat(i)):o>=60&&o<3600?(n=parseInt(o/60)<10?"0".concat(parseInt(o/60)):parseInt(o/60),i=o%60<10?"0".concat(o%60):o%60,t="00:".concat(n,":").concat(i)):o<60&&(i=o<10?"0".concat(o):o,t="00:00:".concat(i)),t}a("99af"),a("e25e"),Object.defineProperty(t,"__esModule",{value:!0}),t.caculateTimeago=n,t.formateTime=i},dfe0:function(e,t,a){"use strict";a.r(t);var n=a("83c6"),i=a("0c74");for(var o in i)"default"!==o&&function(e){a.d(t,e,(function(){return i[e]}))}(o);a("d8d0");var s,r=a("f0c5"),c=Object(r["a"])(i["default"],n["b"],n["c"],!1,null,"3bf80e79",null,!1,n["a"],s);t["default"]=c.exports},e79e:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a("d3f0"),i={data:function(){return{renderDom:[],percent:0}},components:{},props:{message:{type:Object,default:""},isMine:{type:Boolean,default:!0}},watch:{message:{handler:function(e){this.setData({renderDom:(0,n.parseImage)(e),percent:e.percent})},immediate:!0,deep:!0}},methods:{previewImage:function(){uni.previewImage({current:this.renderDom[0].src,urls:[this.renderDom[0].src]})}}};t.default=i},fc1f:function(e,t,a){var n=a("ca95");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("36dc774e",n,!0,{sourceMap:!1,shadowMode:!1})},ffda:function(e,t,a){var n=a("52b3");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("4c2335e5",n,!0,{sourceMap:!1,shadowMode:!1})}}]);