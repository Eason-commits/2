(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["package-mine/pages/address/handSelecedAds"],{205:function(t,e,n){"use strict";(function(t){n(5),n(6);a(n(4));var e=a(n(206));function a(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n(1)["createPage"])},206:function(t,e,n){"use strict";n.r(e);var a=n(207),o=n(209);for(var r in o)"default"!==r&&function(t){n.d(e,t,(function(){return o[t]}))}(r);n(211);var i,s=n(25),c=Object(s["default"])(o["default"],a["render"],a["staticRenderFns"],!1,null,null,null,!1,a["components"],i);c.options.__file="package-mine/pages/address/handSelecedAds.vue",e["default"]=c.exports},207:function(t,e,n){"use strict";n.r(e);var a=n(208);n.d(e,"render",(function(){return a["render"]})),n.d(e,"staticRenderFns",(function(){return a["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return a["recyclableRender"]})),n.d(e,"components",(function(){return a["components"]}))},208:function(t,e,n){"use strict";var a;n.r(e),n.d(e,"render",(function(){return o})),n.d(e,"staticRenderFns",(function(){return i})),n.d(e,"recyclableRender",(function(){return r})),n.d(e,"components",(function(){return a}));var o=function(){var t=this,e=t.$createElement;t._self._c},r=!1,i=[];o._withStripped=!0},209:function(t,e,n){"use strict";n.r(e);var a=n(210),o=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=o.a},210:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(42),o=new a.AMapWX({key:getApp().globalData.amapKey}),r=3.141592653589793,i=6378245,s=.006693421622965943,c={computed:{i18n:function(){return this.$t("index")}},data:function(){return{latitude:"0",longitude:"0",cityname:"",markers:[],mapCtx:null,scrollHeight:0,datozhenLeft:0,keywords:"",firstMarkers:[],fromwhere:1}},onLoad:function(e){t.setNavigationBarTitle({title:this.i18n.titles.choseaddress});var n=this;n.fromwhere=e.from;var a=t.getSystemInfoSync();n.scrollHeight=a.windowHeight-314,n.datozhenLeft=a.windowWidth/2-10;var r=t.getStorageSync("shopAddress");console.log(r),n.latitude=r.lat,n.longitude=r.lng,o.getPoiAround({location:n.longitude+","+n.latitude,success:function(t){n.markers=t.markers},fail:function(t){console.log("失败回调"+t)}})},methods:{doselectAds:function(e,n){var a={};if(e.location){var o=e.location.split(",");a.lat=o[1],a.lng=o[0],a.name=e.name}else a.lat=e.latitude,a.lng=e.longitude,a.name=e.name;t.navigateBack({}),1==this.fromwhere?t.$emit("selectedAdsSuccess",a):t.$emit("selectedAdsSuccess2",a)},inputAds:function(t){this.keywords=t.detail.value,console.log(t.detail.value),this.keywords.length>0?this.doRequestData():this.markers=this.firstMarkers},doRequestData:function(){var e=this;t.request({url:"https://restapi.amap.com/v3/place/text?parameters",method:"GET",data:{key:getApp().globalData.amapWebKey,keywords:e.keywords,children:"1",offset:"20",page:"1",output:"JSON",extensions:"base",city:e.cityname},success:function(t){e.markers=t.data.pois,console.log(t)},fail:function(){console.log("失败")},complete:function(){}})},my_location:function(t){var e=this;e.onLoad()},mapCenterChange:function(t){console.log(t),console.log(t.type);var e=this;("end"!=t.type||"scale"!=t.causedBy&&"drag"!=t.causedBy)&&"regionchange"!=t.type||(e.mapCtx=wx.createMapContext("searchMap"),e.mapCtx.getCenterLocation({type:"gcj02",success:function(t){var n=e.gcj02towgs84(t.longitude,t.latitude);console.log(n,2222),e.longitude=t.longitude,e.latitude=t.latitude,o.getPoiAround({location:e.longitude+","+e.latitude,success:function(t){e.markers=t.markers,console.log("成功回调"+JSON.stringify(e.markers))},fail:function(t){console.log(t)}})}}))},gcj02towgs84:function(t,e){var n=this;if(n.out_of_china(t,e))return[t,e];var a=n.transformlat(t-105,e-35),o=n.transformlng(t-105,e-35),c=e/180*r,u=Math.sin(c);u=1-s*u*u;var l=Math.sqrt(u);a=180*a/(i*(1-s)/(u*l)*r),o=180*o/(i/l*Math.cos(c)*r);var d=e+a,f=t+o;return[2*t-f,2*e-d]},transformlat:function(t,e){var n=2*t-100+3*e+.2*e*e+.1*t*e+.2*Math.sqrt(Math.abs(t));return n+=2*(20*Math.sin(6*t*r)+20*Math.sin(2*t*r))/3,n+=2*(20*Math.sin(e*r)+40*Math.sin(e/3*r))/3,n+=2*(160*Math.sin(e/12*r)+320*Math.sin(e*r/30))/3,n},transformlng:function(t,e){var n=300+t+2*e+.1*t*t+.1*t*e+.1*Math.sqrt(Math.abs(t));return n+=2*(20*Math.sin(6*t*r)+20*Math.sin(2*t*r))/3,n+=2*(20*Math.sin(t*r)+40*Math.sin(t/3*r))/3,n+=2*(150*Math.sin(t/12*r)+300*Math.sin(t/30*r))/3,n},out_of_china:function(t,e){return t<72.004||t>137.8347||e<.8293||e>55.8271||!1}}};e.default=c}).call(this,n(1)["default"])},211:function(t,e,n){"use strict";n.r(e);var a=n(212),o=n.n(a);for(var r in a)"default"!==r&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e["default"]=o.a},212:function(t,e,n){}},[[205,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/package-mine/pages/address/handSelecedAds.js.map