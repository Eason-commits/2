(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["package-shopManager/pages/goodsManager/addGoodsPics"],{319:function(t,n,e){"use strict";(function(t){e(5),e(6);i(e(4));var n=i(e(320));function i(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=e,t(n.default)}).call(this,e(1)["createPage"])},320:function(t,n,e){"use strict";e.r(n);var i=e(321),s=e(323);for(var o in s)"default"!==o&&function(t){e.d(n,t,(function(){return s[t]}))}(o);e(325);var r,a=e(25),c=Object(a["default"])(s["default"],i["render"],i["staticRenderFns"],!1,null,null,null,!1,i["components"],r);c.options.__file="package-shopManager/pages/goodsManager/addGoodsPics.vue",n["default"]=c.exports},321:function(t,n,e){"use strict";e.r(n);var i=e(322);e.d(n,"render",(function(){return i["render"]})),e.d(n,"staticRenderFns",(function(){return i["staticRenderFns"]})),e.d(n,"recyclableRender",(function(){return i["recyclableRender"]})),e.d(n,"components",(function(){return i["components"]}))},322:function(t,n,e){"use strict";var i;e.r(n),e.d(n,"render",(function(){return s})),e.d(n,"staticRenderFns",(function(){return r})),e.d(n,"recyclableRender",(function(){return o})),e.d(n,"components",(function(){return i}));var s=function(){var t=this,n=t.$createElement;t._self._c},o=!1,r=[];s._withStripped=!0},323:function(t,n,e){"use strict";e.r(n);var i=e(324),s=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);n["default"]=s.a},324:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i=function(){e.e("components/wybar/wyBar").then(function(){return resolve(e(542))}.bind(null,e)).catch(e.oe)},s={components:{wybar:i},computed:{i18n:function(){return this.$t("index")}},data:function(){return{imgList:[],imgUrls:[],isAdd:!0,maxCount:1}},onLoad:function(t){var n=JSON.parse(t.picArr);console.log(n),0==n.length?this.isAdd=!0:(this.isAdd=!1,this.imgUrls=this.imgUrls.concat(n),this.imgList=this.imgList.concat(n))},methods:{back:function(){t.navigateBack()},save:function(){t.showLoading({title:this.i18n.mine.shangchuanzhong,mask:!1});var n=this,e=t.getStorageSync("userinfo"),i={};e&&(i.uid=e.uid,i.token=e.token);var s=0;if(s=this.isAdd||0==n.imgUrls.length?0:n.imgList.length-n.imgUrls.length-1,s<0&&n.imgList.length>=0)n.submit();else{console.log(s,n.imgList);for(var o=s;o<n.imgList.length;o++)t.uploadFile({url:getApp().globalData.weburl+"api/?s=Merchant.Upload.Upload",filePath:n.imgList[o],name:"file",formData:i,success:function(e){t.hideLoading();var i=JSON.parse(e.data),s=i.data.info[0].url_all;console.log(s),n.imgUrls.push(s),n.imgUrls.length==n.imgList.length&&n.submit()},fail:function(n){console.log(n),t.hideLoading()}})}},submit:function(){t.$emit("goodsPics",this.imgUrls),t.navigateBack()},delateImage:function(t){console.log(t,this.imgList,this.imgUrls),this.add?this.imgList.splice(t,1):(this.imgList.splice(t,1),t<this.imgUrls.length&&this.imgUrls.splice(t,1),console.log(t,this.imgList,this.imgUrls))},doAddImage:function(){var n=this;t.chooseImage({count:n.maxCount-n.imgList.length,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){var e=t.tempFilePaths;console.log(n.imgList,n.imgUrls);for(var i=0;i<e.length;i++){var s=e[i];n.imgList.length<n.maxCount&&n.imgList.push(s),console.log(n.imgList,n.imgUrls)}}})}}};n.default=s}).call(this,e(1)["default"])},325:function(t,n,e){"use strict";e.r(n);var i=e(326),s=e.n(i);for(var o in i)"default"!==o&&function(t){e.d(n,t,(function(){return i[t]}))}(o);n["default"]=s.a},326:function(t,n,e){}},[[319,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/package-shopManager/pages/goodsManager/addGoodsPics.js.map