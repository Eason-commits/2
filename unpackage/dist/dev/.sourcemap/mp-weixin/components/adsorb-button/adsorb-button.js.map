{"version":3,"sources":["webpack:////Users/wangxiaowen/Documents/HBuilderProjects/Delivery/components/adsorb-button/adsorb-button.nvue?b402","webpack:////Users/wangxiaowen/Documents/HBuilderProjects/Delivery/components/adsorb-button/adsorb-button.nvue?1251","webpack:////Users/wangxiaowen/Documents/HBuilderProjects/Delivery/components/adsorb-button/adsorb-button.nvue?8bdb","webpack:////Users/wangxiaowen/Documents/HBuilderProjects/Delivery/components/adsorb-button/adsorb-button.nvue?5541","uni-app:///components/adsorb-button/adsorb-button.nvue","webpack:////Users/wangxiaowen/Documents/HBuilderProjects/Delivery/components/adsorb-button/adsorb-button.nvue?87f7","webpack:////Users/wangxiaowen/Documents/HBuilderProjects/Delivery/components/adsorb-button/adsorb-button.nvue?f410"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2H;AAC3H;AACkE;AACL;AACa;;;AAG1E;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA40B,CAAgB,4yBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;ACOh2B;AACA;AACA;AACA;AACA,GAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,kBADA;AAEA,iBAFA,EADA;;AAKA;AACA,kBADA;AAEA,iBAFA,EALA,EADA;;;AAWA,MAXA,kBAWA;AACA;AACA,kBADA;AAEA,kBAFA;AAGA;AACA,YADA;AAEA,YAFA,EAHA;;AAOA,kBAPA,EAOA;AACA,kBARA;;AAUA,GAtBA;AAuBA,SAvBA,qBAuBA;AACA;AACA;AACA,gCADA;AAEA,kCAFA;;AAIA;AACA;AACA,KAFA;AAGA,GAhCA;AAiCA;;AAEA,eAFA,yBAEA;AACA;AACA;AACA;AACA,2BADA,EACA;AACA,6BAFA,CAEA;AAFA;AAIA,OANA;AAOA,KAVA;AAWA,SAXA,iBAWA,CAXA,EAWA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBADA;AAEA,wBAFA;AAGA;AACA;AACA,uBADA;AAEA,0CAFA;AAGA,kDAHA,EADA;;AAMA;AACA,uBADA;AAEA,0CAFA;AAGA,kDAHA,CAGA;AAHA,SANA,CAHA;;AAeA;AACA;AACA;AACA,wCADA,CACA;AACA;AACA;AACA,4BADA;AAEA,4BAFA;;AAIA;AACA;AACA;AACA;AACA;AACA,SAbA,MAaA;AACA;AACA;AACA,WAFA,EAEA,EAFA;AAGA;AACA,OAlCA;AAmCA,KApDA;AAqDA,YArDA,sBAqDA;AACA;AACA;AACA;AACA;AACA,2HALA,CAKA;AACA;AACA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BADA;AAEA,0CAFA,EAEA;AACA;AACA;AACA,uBADA;AAEA,0CAFA,EAEA;AACA,kCAHA,EADA;;AAMA;AACA,uBADA;AAEA,0CAFA,EAEA;AACA,kCAHA,EANA,CAHA,EADA;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA,+BADA;AAEA,kCAFA;;AAIA;AACA,OA1BA;AA2BA,KA/FA,EAjCA,E;;;;;;;;;;;;;ACpBA;AAAA;AAAA;AAAA;AAAyrC,CAAgB,ymCAAG,EAAC,C;;;;;;;;;;;ACA7sC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/adsorb-button/adsorb-button.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./adsorb-button.nvue?vue&type=template&id=6e3d6a10&\"\nvar renderjs\nimport script from \"./adsorb-button.nvue?vue&type=script&lang=js&\"\nexport * from \"./adsorb-button.nvue?vue&type=script&lang=js&\"\nimport style0 from \"./adsorb-button.nvue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/adsorb-button/adsorb-button.nvue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./adsorb-button.nvue?vue&type=template&id=6e3d6a10&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./adsorb-button.nvue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./adsorb-button.nvue?vue&type=script&lang=js&\"","<template>\n\t\t<div  ref=\"ball\" :style=\"{right:marginX+'px',bottom:marginY+'px'}\" \r\n\t\tclass=\"ball\" @touchstart=\"start\"   @tap=\"clickButton\" >\r\n\t\t\t <slot />\r\n\t\t</div>\n</template>\n<script>\r\n   function  getEl(el) {\n\t\t\t\tif (typeof el === 'string' || typeof el === 'number') return el;\n\t\t\t\tif (WXEnvironment) {\n\t\t\t\t\t\treturn el.ref;\n\t\t\t\t} else {\n\t\t\t\t\t\treturn el instanceof HTMLElement ? el : el.$el;\n\t\t\t\t}\n\t\t}\n    const BindingX = uni.requireNativePlugin('bindingx');\r\n\t\tconst dom = weex.requireModule('dom')\r\n\t  /**\r\n\t\t * 吸附按钮  \r\n\t\t */\n    export default {\r\n\t\t\tprops:{\r\n\t\t\t\tmarginY:{  // 纵向边距\r\n\t\t\t\t\ttype:Number,\r\n\t\t\t\t\tdefault:40\r\n\t\t\t\t},\r\n\t\t\t\tmarginX:{ //横向边距\r\n\t\t\t\t\ttype:Number,\r\n\t\t\t\t\tdefault:20\r\n\t\t\t\t}\r\n\t\t\t},\n        data() {\n            return {\r\n\t\t\t\t\t\t\tballInfo:{},\r\n\t\t\t\t\t\t\tareaSize:{},\r\n\t\t\t\t\t\t\t position:{ // 记录小球当前位置\r\n\t\t\t\t\t\t\t\t x:0,\r\n\t\t\t\t\t\t\t\t y:0\r\n\t\t\t\t\t\t\t },\r\n\t\t\t\t\t\t\t isRun:false ,//是否处于运动中\r\n\t\t\t\t\t\t\t timer:false\n\t\t\t\t\t\t}\n        },\r\n\t\t\t\tmounted() {\r\n\t\t\t\t\tconst info = uni.getSystemInfoSync()\r\n\t\t\t\t\tthis.areaSize = {\r\n\t\t\t\t\t\twidth:info.safeArea.width,\r\n\t\t\t\t\t\theight:info.safeArea.height\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.$nextTick(()=>{\r\n\t\t\t\t\t\tthis.getBallInfo()\r\n\t\t\t\t\t})\r\n\t\t\t\t},\r\n        methods: {\r\n\t\t\t \r\n\t\t\t\t\tgetBallInfo(){ \r\n\t\t\t\t\t\tdom.getComponentRect(this.$refs.ball,(res)=>{\r\n\t\t\t\t\t\t\tconst info = res.size ||{}\r\n\t\t\t\t\t\t\tthis.ballInfo = {\r\n\t\t\t\t\t\t\t\twidth:info.width,  //小球宽度 \r\n\t\t\t\t\t\t\t\theight:info.height //小球高度\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n           start(e){ \r\n\t\t\t\t\t\t if(this.isRun){ //小球处于运动中\r\n\t\t\t\t\t\t\t return\r\n\t\t\t\t\t\t } \r\n\t\t\t\t\t\t const ball = getEl(this.$refs.ball)\r\n\t\t\t\t\t\t \r\n\t\t\t\t\t\t let obj = BindingX.bind({\r\n\t\t\t\t\t\t           anchor:ball,\r\n\t\t\t\t\t\t           eventType:'pan',\r\n\t\t\t\t\t\t           props: [\r\n\t\t\t\t\t\t               {\r\n\t\t\t\t\t\t                 element:ball, \r\n\t\t\t\t\t\t                 property:'transform.translateX',\r\n\t\t\t\t\t\t                 expression: `x+${this.position.x}`,\r\n\t\t\t\t\t\t               },  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   element:ball, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   property:'transform.translateY',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   expression: `y+${this.position.y}`, // \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t } \r\n\t\t\t\t\t\t             ] \r\n\t\t\t\t\t\t         }, (e)=> {\r\n\t\t\t\t\t\t\t\t\t\t\t if(e.state === 'end') {\r\n\t\t\t\t\t\t\t\t\t\t\t\t if(this.timer){  //移动时间特别短暂 视为点击事件\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$emit('clickButton') //点击事件触发\r\n\t\t\t\t\t\t\t\t\t\t\t\t }\r\n\t\t\t\t\t\t\t\t\t\t\t\t BindingX.unbind({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t token: obj.token,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t   eventType: 'pan'\r\n\t\t\t\t\t\t\t\t\t\t\t\t })\r\n\t\t\t\t\t\t\t\t\t\t\t\t //记录小球位置 \r\n\t\t\t\t\t\t\t\t\t\t\t\t this.position.x += e.deltaX\r\n\t\t\t\t\t\t\t\t\t\t\t\t this.position.y += e.deltaY\r\n\t\t\t\t\t\t\t\t\t\t\t\t //进行吸附\r\n\t\t\t\t\t\t\t\t\t\t\t\t this.sorption()\r\n\t\t\t\t\t\t\t\t\t\t\t }else{\r\n\t\t\t\t\t\t\t\t\t\t\t\t this.timer=setTimeout(()=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\t \t  this.timer=null\r\n\t\t\t\t\t\t\t\t\t\t\t\t },50)\r\n\t\t\t\t\t\t\t\t\t\t\t }\r\n\t\t\t\t\t\t         });\r\n\t\t\t\t\t },\r\n\t\t\t\t\t sorption(){  //吸附\r\n\t\t\t\t\t\t\t this.isRun=true\r\n\t\t\t\t\t\t\t const ball = getEl(this.$refs.ball)\r\n\t\t\t\t\t\t\t const time = 230\r\n\t\t\t\t\t\t\t // 判断吸附方向 \r\n\t\t\t\t\t\t\t const isLeft = \t(this.areaSize.width-this.ballInfo.width+this.marginX) /2 < -this.position.x + this.ballInfo.width//是否向左吸附\r\n\t\t\t\t\t\t\t\tlet moveX = isLeft ? -(this.areaSize.width +this.position.x)+this.ballInfo.width+this.marginX*2: 0-this.position.x \r\n\t\t\t\t\t\t\t\tlet moveY = 0\r\n\t\t\t\t\t\t\t\tif(this.position.y>0){ \r\n\t\t\t\t\t\t\t\t\tmoveY =  0-this.position.y\r\n\t\t\t\t\t\t\t\t}else if(this.position.y<0- (this.areaSize.height-this.ballInfo.height-this.marginY*2)){\r\n\t\t\t\t\t\t\t\t\tmoveY = -(this.position.y +\t(this.areaSize.height-this.ballInfo.height))+this.marginY*2\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tconst \texpression_x=`easeInOutCubic(t,${this.position.x},${moveX},${time})`\r\n\t\t\t\t\t\t\t\tconst\texpression_y=`easeInOutCubic(t,${this.position.y},${moveY},${time})`\r\n\t\t\t\t\t\t\t\t let result = BindingX.bind(   \r\n\t\t\t\t\t\t\t\t     {\r\n\t\t\t\t\t\t\t\t       eventType:'timing',\r\n\t\t\t\t\t\t\t\t       exitExpression: `t>=${time}`, //描述什么时候结束\r\n\t\t\t\t\t\t\t\t       props: [\r\n\t\t\t\t\t\t\t\t           {\r\n\t\t\t\t\t\t\t\t             element:ball, \r\n\t\t\t\t\t\t\t\t             property:'transform.translateX',  //修改的属性 \r\n\t\t\t\t\t\t\t\t             expression:expression_x  \r\n\t\t\t\t\t\t\t\t           }, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  element:ball, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  property:'transform.translateY',  //修改的属性 \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t  expression:expression_y  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t       ]\r\n\t\t\t\t\t\t\t\t      }, (e)=>{\r\n\t\t\t\t\t\t\t\t         if(e.state === 'end' || e.state === 'exit') {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.isRun=false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.position.x+= moveX\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.position.y+=moveY \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tBindingX.unbind({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teventType:'timing',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoken:result.gesToken\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t         }\r\n\t\t\t\t\t\t\t\t     });\r\n\t\t\t\t\t }\n        }\n    }\n</script>\n<style>\n    .container {\n        flex: 1;\n    }\n    .ball {\n        position: fixed;\n       \tborder-radius: 50%;\r\n\t\t\t\tbottom: 0px;\r\n    }\n</style>","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./adsorb-button.nvue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./adsorb-button.nvue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1641281226225\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}