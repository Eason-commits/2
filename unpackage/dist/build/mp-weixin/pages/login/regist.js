(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/regist"],{"05b9":function(t,e,n){"use strict";var i=n("add5"),o=n.n(i);o.a},"07c6":function(t,e,n){"use strict";n.r(e);var i=n("d46f"),o=n("1e33");for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("05b9");var s=n("f0c5"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],void 0);e["default"]=c.exports},"1e33":function(t,e,n){"use strict";n.r(e);var i=n("bd60"),o=n.n(i);for(var a in i)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a},"4f51":function(t,e,n){"use strict";(function(t,e){var i=n("4ea4");n("5340");i(n("66fd"));var o=i(n("07c6"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(o.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},add5:function(t,e,n){},bd60:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{password:"",password2:"",phone:"",code:"",type:0,codeFocus:!1,codetimes:"获取验证码",canshowcode:!1}},onReady:function(){this.codetimes=this.i18n.login.getcode,t.setNavigationBarTitle({title:this.i18n.login.zhucezhanghao})},computed:{enabled:function(){return!(11==this.phone.length&&this.code.length>5&&this.password.length>5&&this.password2.length>5)},i18n:function(){return this.$t("index")}},onLoad:function(e){this.type=e.type,1==e.type?t.setNavigationBarTitle({title:this.i18n.login.zhucezhanghao}):t.setNavigationBarTitle({title:this.i18n.login.zhaohuimiam})},methods:{password_input:function(t){},password_input2:function(t){},phone_input:function(t){11==t.detail.value.length?this.canshowcode=!0:this.canshowcode=!1},getSmsCode:function(){if(0!=this.canshowcode){var t=this,e=this.NB.sort2url({account:this.phone,type:this.type}),n={};n.account=this.phone,n.type=this.type,n.sign=e,n.env="weixin",this.NB.sendRequest("Rider.Login.GetCode",n,!0).then((function(t){})).catch((function(e){if(1002==e.code){t.codeFocus=!0;var n=60;t.canshowcode=!1,clearInterval(t.timer),t.timer=null,t.codetimes="(60s)",t.timer=setInterval((function(){n-=1,t.codetimes="("+n+"s)",0==n&&(clearInterval(t.timer),t.timer=null,t.canshowcode=!0,t.codetimes=t.i18n.login.getcode)}),1e3)}}))}},submit:function(){var e=this;if(this.password==this.password2){var n={};n.mobile=this.phone,n.code=this.code,n.pass=this.password,console.log(n),n.env="weixin";var i="";i=1==this.type?"Login.Reg":"Rider.Login.Forget",this.NB.sendRequest(i,n,!0).then((function(t){console.log(t),e.saveLocal(t.info[0])})).catch((function(t){console.log(t)}))}else t.showToast({title:this.i18n.bind.liangcimimabuyizhi,icon:"none"})},saveLocal:function(e){getApp().globalData.userinfo=e,t.setStorage({key:"userinfo",data:e,success:function(){setTimeout((function(){t.reLaunch({url:"../index/index"})}),1e3)}});var n=e.im.userId,i=e.im.UserSig;t.$TUIKit.login({userID:n,userSig:i}).then((function(t){console.log("imResponse:",t.data),!0===t.data.repeatLogin&&console.log(t.data.errorInfo)})).catch((function(t){console.warn("login error:",t)}));var o=t.$TUIKit.updateMyProfile({avatar:e.avatar,nick:e.user_nickname});o.then((function(t){console.log(t.data)})).catch((function(t){console.warn("updateMyProfile error:",t)}))}}};e.default=n}).call(this,n("543d")["default"])},d46f:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){}));var i=function(){var t=this.$createElement;this._self._c},o=[]}},[["4f51","common/runtime","common/vendor"]]]);